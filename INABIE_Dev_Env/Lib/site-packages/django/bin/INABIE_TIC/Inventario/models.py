from django.db import models
from django.forms import forms


class Empleado(models.Model):
    pk_id = models.AutoField(primary_key=True)
    nombre = models.CharField("Nombre", max_length=255)

    def __str__(self):
        return self.nombre

class CargoEmpleado(models.Model):
    pk_id = models.AutoField(primary_key=True)
    nombre = models.CharField("Nombre", max_length=255)

    def __str__(self):
        return self.nombre



class MarcaDeEquipo(models.Model):
    pk_id = models.AutoField(primary_key=True)
    nombre = models.CharField("Nombre", max_length=255)

    def __str__(self):
        return self.nombre

class TipoDeEquipo(models.Model):
    pk_id = models.AutoField(primary_key=True)
    nombre = models.CharField("Nombre", max_length=255)

    def __str__(self):
        return self.nombre

class Departamento(models.Model):
    pk_id = models.AutoField(primary_key=True)
    nombre = models.CharField("Nombre", max_length=255)

    class Meta:
        verbose_name = "Departamento"

    def __str__(self):
        return self.nombre

class Equipo(models.Model):
    # opcionesDeTipo = [('T1', 'Tipo 1'), ('T2', 'Tipo 2'), ('T3', 'Tipo 3')]
    # opcionesDeMarca = [('M1', 'Marca 1'), ('M2', 'Marca 2'), ('M3', 'Marca 3')]
    opcionesEstado = [('NUEVO', 'NUEVO'), ('USADO', 'USADO'), ('DEFECTUOSO', 'DEFECTUOSO'), ('DAÑADO', 'DAÑADO')]


    pk_id = models.AutoField(primary_key=True)
    fechaRegistro = models.DateTimeField("Fecha de registro al sistema", auto_now= True, editable=False)
    serial = models.CharField("Serial", max_length=255, blank=True, null=True)
    numeroTelefono = models.CharField("Numero Telefono", max_length=255, blank=True, null=True)
    estado = models.CharField("Estado", max_length=255, choices= opcionesEstado, default='NUEVO', null=True, blank=True)
    tipo = models.ForeignKey("TipoDeEquipo", verbose_name="Tipo", on_delete=models.CASCADE, null=True, blank=True)
    marca = models.ForeignKey("MarcaDeEquipo", verbose_name="Marca", on_delete=models.CASCADE, null=True, blank=True)
    modelo = models.CharField("Modelo", max_length=255, null=True, blank=True)
    placaInabie = models.CharField("Placa INABIE", max_length=255, null= True, blank=True)
    placaBienesNacionales = models.CharField("Placa Bienes Nacionales", max_length=255, blank=True, null=True)
    nombrePersonaAsignada = models.ForeignKey("Empleado", verbose_name="Nombre Persona Asignada", on_delete=models.CASCADE, null=True, blank=True)
    cargoPersonaAsignada = models.ForeignKey("CargoEmpleado", verbose_name="Cargo Persona Asignada", on_delete=models.CASCADE, null=True, blank=True)
    # direccionAsignado = models.ForeignKey("AdministracionSistema.Direccion", verbose_name="Dirección Asignado", on_delete=models.CASCADE, null=True, blank=True)
    departamentoAsignado = models.ForeignKey("Departamento", verbose_name="Departamento Asignado", on_delete=models.CASCADE, null=True, blank=True)
    # divisionAsignado = models.ForeignKey("AdministracionSistema.Division", verbose_name="División o Sección Asignado", on_delete=models.CASCADE, null=True, blank=True)
    prestado = models.BooleanField("Prestado", default= False)
    fechaSolicitud = models.DateField("Fecha Solicitud", blank=True, null=True)
    fechaEntrega = models.DateField("Fecha Entrega", blank=True, null=True)
    fechaDevolucion = models.DateField("Fecha Devolucion", blank=True, null=True)
    devueltoPor = models.CharField("Entregado Por", max_length=255, blank=True, null=True)
    comentario = models.TextField("Comentario", blank=True, null=True)
    ubicacion = models.TextField("ubicacion", blank=True, null=True )
    

    def __str__(self):
        return self.serial
    
class ArchivosExcelEquipo(models.Model):
    pk_id = models.AutoField(primary_key=True)
    nombre = models.CharField("Nombre Archivo", max_length=255, default="DATA-EQUIPOS")
    fecha = models.DateTimeField("Fecha de subida", auto_now=True, auto_now_add=False)
    archivo = models.FileField("Base de datos excel de equipos", upload_to='C:/media', max_length=2000)

    def __str__(self):
        return self.nombre



# Create your models here.