from django.contrib import admin
from .models import Empleado, Permiso

# Register your models here.

class EmpleadoAdmin(admin.ModelAdmin):
    list_display = tuple([f.name for f in Empleado._meta.fields]) + ('edad', )
    search_fields = ('nombre', 'apellido', 'cedula', 'usuario', 'departamento__nombre', 'division__nombre', 'cargo', 'grupo_ocupacional',
                     'fecha_nacimiento', 'fecha_ingreso', 'sueldo')
    list_filter = ('departamento', 'division', 'cargo', 'grupo_ocupacional', 'fecha_nacimiento', 'fecha_ingreso',)


class PermisoAdmin(admin.ModelAdmin):
    campos = [f.name for f in Permiso._meta.fields]
    campos.remove('id')
    list_display = tuple(campos)
    list_filter = ('fecha_solicitud', 'fecha_permiso', 'estado')
    date_hierarchy = 'fecha_permiso'
    search_fields = ('empleado__nombre', 'empleado__cedula')


admin.site.register(Empleado, EmpleadoAdmin)
admin.site.register(Permiso, PermisoAdmin)