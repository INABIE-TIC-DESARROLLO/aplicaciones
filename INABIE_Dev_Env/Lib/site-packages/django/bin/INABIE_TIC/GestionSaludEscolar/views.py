from django.shortcuts import render
from datetime import datetime
import calendar

# Create your views here.

def formulario_citas(request):
    if request.method == "GET":
        actual_year = datetime.today().year
        next_year = actual_year + 1
        actual_month = datetime.today().month
        month_tuple = calendar.monthrange(actual_year, actual_month) #tupla con dia en el cual comienza el mes (el 0 es lunes) y cantidad de dias que tienes el mes
        days_in_actual_month = month_tuple[1] 
        days_list = []
        
        for day in range(1, days_in_actual_month + 1):
            calendar_object = {
                "number_day_week": calendar.weekday(actual_year, actual_month, day), #0 = lunes, 1 = martes, etc ...
                "number_day_calendar": day

            }

            days_list.append(calendar_object)

        return render(request, '../templates/formulario_citas.html', {"actual_year": actual_year, "next_year": next_year, "days_list": days_list, "actual_month": actual_month})
    
    elif request.method == "POST":
        print(request.body)

        return render(request, '../templates/formulario_citas.html', {})
    
