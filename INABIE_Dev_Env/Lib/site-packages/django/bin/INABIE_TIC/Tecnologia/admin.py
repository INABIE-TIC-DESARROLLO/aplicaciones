from django.contrib import admin
from .models import PersonaAtendida, LLamada, Ticket

# Register your models here.

class PersonaAtendidaAdmin(admin.ModelAdmin):
    persona_atendida_fields = tuple([f.name for f in PersonaAtendida._meta.fields])
    list_display = persona_atendida_fields
    list_filter = ('departamento', 'division')
    search_fields = ('nombre','departamento__nombre', 'division__nombre')
    autocomplete_fields = ('departamento', 'division')
    

class LlamadaAdmin(admin.ModelAdmin):
    llamada_fields = tuple([f.name for f in LLamada._meta.fields])
    list_display = llamada_fields
    list_filter = ('fecha_registro', )
    date_hierarchy = 'fecha_registro'
    search_fields = ('persona_atendida__nombre','motivo')
    autocomplete_fields = ('persona_atendida', )

class TicketAdmin(admin.ModelAdmin):
    list_display = tuple([f.name for f in Ticket._meta.fields])
    date_hierarchy = 'fecha_registro'
    list_filter = ('estado', 'prioridad', 'fecha_registro')
    search_fields = ('persona_asignada__nombre','motivo_del_requerimiento', 'transferido_por__nombre', 'departamento_solicitador__nombre')
    autocomplete_fields = ('persona_asignada', 'departamento_solicitador', 'transferido_por')


admin.site.register(PersonaAtendida, PersonaAtendidaAdmin)
admin.site.register(LLamada, LlamadaAdmin)
admin.site.register(Ticket, TicketAdmin)